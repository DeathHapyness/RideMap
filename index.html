<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RideMap</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <!-- Css -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/login.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Code:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <!--Fiveicon-->
    <link rel="icon" href="img/wheel (1).png">
</head>
<body>
    <!-- Botão Hamburger (inicialmente escondido) -->
    <button class="hamburger-btn" style="display: none;">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Menu Lateral (inicialmente escondido) -->
    <div class="sidebar">
        <div class="sidebar-header">
            <img src="/img/png_c0jcq.png" alt="RideMap Logo">
            <h4>RideMap</h4>
        </div>
        
        <!-- Informações do Usuário -->
        <div class="user-info">
            <img src="/img/default-avatar.png" alt="Avatar" class="usar-avatar">
            <div class="user-name">Carregando...</div>
        </div>

        <!-- Itens do Menu -->
        <div class="menu-items">
            <a href="#" class="menu-item" onclick="showMySpots()">
                <i class="fas fa-map-marker-alt"></i>
                Minhas Pistas
            </a>
            <a href="#" class="menu-item" onclick="showAddSpot()">
                <i class="fas fa-plus-circle"></i>
                Adicionar Pista
            </a>
            <a href="#" class="menu-item" onclick="showProfile()">
                <i class="fas fa-user"></i>
                Perfil
            </a>
            <a href="#" class="menu-item" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                Sair
            </a>
        </div>
    </div>

    <!-- Overlay para quando o menu estiver aberto em telas menores -->
    <div class="overlay-menu"></div>

    <!-- Modal Adicionar Pista -->
    <div class="modal fade modal-adicionar-pista" id="addSpotModal" tabindex="-1" aria-labelledby="addSpotModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-fullscreen-lg-down">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addSpotModalLabel">Adicionar Nova Pista</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addSpotForm">
                        <div class="mb-3">
                            <label for="spotName" class="form-label">Nome da Pista</label>
                            <input type="text" class="form-control" id="spotName" required>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-8">
                                <label for="spotCity" class="form-label">Cidade</label>
                                <input type="text" class="form-control" id="spotCity" required>
                            </div>
                            <div class="col-md-4">
                                <label for="spotState" class="form-label">Estado</label>
                                <select class="form-select" id="spotState" required>
                                    <option value="">Selecione...</option>
                                    <option value="AC">AC</option>
                                    <option value="AL">AL</option>
                                    <option value="AP">AP</option>
                                    <option value="AM">AM</option>
                                    <option value="BA">BA</option>
                                    <option value="CE">CE</option>
                                    <option value="DF">DF</option>
                                    <option value="ES">ES</option>
                                    <option value="GO">GO</option>
                                    <option value="MA">MA</option>
                                    <option value="MT">MT</option>
                                    <option value="MS">MS</option>
                                    <option value="MG">MG</option>
                                    <option value="PA">PA</option>
                                    <option value="PB">PB</option>
                                    <option value="PR">PR</option>
                                    <option value="PE">PE</option>
                                    <option value="PI">PI</option>
                                    <option value="RJ">RJ</option>
                                    <option value="RN">RN</option>
                                    <option value="RS">RS</option>
                                    <option value="RO">RO</option>
                                    <option value="RR">RR</option>
                                    <option value="SC">SC</option>
                                    <option value="SP">SP</option>
                                    <option value="SE">SE</option>
                                    <option value="TO">TO</option>
                                    <option value="outros">OUTRO PAIS</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="spotType" class="form-label">Tipo</label>
                                <select class="form-select" id="spotType" required>
                                    <option value="">Selecione...</option>
                                    <option value="skate">Skate</option>
                                    <option value="patins">Patins</option>
                                    <option value="ambos">Ambos</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="spotDifficulty" class="form-label">Dificuldade</label>
                                <select class="form-select" id="spotDifficulty" required>
                                    <option value="">Selecione...</option>
                                    <option value="facil">Fácil</option>
                                    <option value="medio">Médio</option>
                                    <option value="dificil">Difícil</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="spotDescription" class="form-label">Descrição</label>
                            <textarea class="form-control" id="spotDescription" rows="3" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Localização</label>
                            <p class="text-muted">Clique no mapa para selecionar a localização da pista</p>
                            <div id="mapaPicker" style="height: 300px; margin-bottom: 15px; border-radius: 8px;"></div>
                            <div class="row">
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="spotLatitude" placeholder="Latitude" readonly required>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="spotLongitude" placeholder="Longitude" readonly required>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="spotPhotos" class="form-label">Fotos</label>
                            <input type="file" class="form-control" id="spotPhotos" multiple accept="image/*">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="enviarNovaPista()">Adicionar Pista</button>
                </div>
            </div>
        </div>
    </div>

 <!-- Interface de visualização de perfil -->
  <!--Terminar de mexer nisso nao esta funcionando,interface de usuario nao aparece-->
<div class="Perfil card p-3" id="perfilContainer" style="max-width: 300px; display: none;">
    <div class="text-center mb-3">
        <img id="perfilAvatar" src="/img/default-avatar.png" class="rounded-circle" alt="Avatar" width="100" height="100">
        <input type="file" id="perfilAvatarInput" accept="image/*" style="display: none;">
        <button class="btn btn-sm btn-outline-primary mt-2" id="btnTrocarAvatar">Trocar Foto</button>
    </div>
    <div class="mb-2">
        <label for="perfilNome" class="form-label">Nome/Apelido</label>
        <input type="text" class="form-control" id="perfilNome" value="Usuário">
    </div>
    <button class="btn btn-primary w-100" id="btnSalvarPerfil">Salvar Alterações</button>
</div>
<!------------------------------------------------------------------>

    <!-- Mapa -->
    <div id="map"></div>
    <!-- Overlay inicial -->
    <div id="overlay">
        <div id="overlay-conteudo">
            <div class="d-flex align-items-center gap-0.5 justify-content-center mb-3">
                <h1 class="mb-0">RideMap</h1>
                <img src="/img/png_c0jcq.png" alt="Logo RideMap" style="height: 70px; width: auto;">
            </div>
            <p>Encontre pistas de skate perto de você</p>
            <button id="btnLoginManual" class="btn btn-secondary mb-2" style="background-color: #ffffff00; ">Login Manual</button>
            <button id="btnExplorar" class="btn btn-outline-light mb-2" style="background-color: #ffffff00;">
  Explorar sem conta
</button>

        </div>
    </div>

    <section id="features" class="container py-5">
        <h2 class="text-center mb-4">O que o RideMap faz ?</h2>
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="feature-card p-4 shadow rounded">
                    <h4>Mapa Interativo</h4>
                    <p>Veja todas as pistas de skate em tempo real.</p>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-card p-4 shadow rounded">
                    <h4>Login Rápido</h4>
                    <p>Entre com Google ou login manual para salvar suas pistas.</p>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-card p-4 shadow rounded">
                    <h4>Favoritar Pistas</h4>
                    <p>Salve suas pistas favoritas e explore a qualquer hora.</p>
                </div>
            </div>
        </div>
    </section>
    <!--Botao para aparecer overley-->
    <div id="btnAparecer" hidden>
    <button type="button" class="btn btn-outline-primary" >Logar/Cadastrar</button>
    </div>
    <!-- Tela de Login/Cadastro -->
    <div  class="login-container" id="loginScreen" hidden>
        <div class="container" id="container">
            <div class="container-login" id="container-login">
                <div class="form-container sign-up">
                    <form>
                        <h1>Criar Conta</h1>
                        <div class="social-icons">
                            <a href="#" class="icon">           
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16">
                                    <path d="M15.545 6.558a9.4 9.4 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.7 7.7 0 0 1 5.352 2.082l-2.284 2.284A4.35 4.35 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.8 4.8 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.7 3.7 0 0 0 1.599-2.431H8v-3.08z"/>
                                </svg>
                            </a>
                            <a href="#" class="icon">  
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
                                </svg>  
                            </a>
                        </div>
                        <span>ou use seu e-mail para cadastro</span>
                        <input type="text" placeholder="Nome">
                        <input type="email" placeholder="Email">
                        <input type="password" placeholder="Senha">
                        <button type="button" class="btn btn-outline-light mb-2" style="border-color: #00000048;">Cadastrar</button>
                    </form>
                </div>
                <div class="form-container sign-in">
                    <form>
                        <h1>Entrar</h1>
                        <div class="social-icons">
                            <a href="#" class="icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16">
                                    <path d="M15.545 6.558a9.4 9.4 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.7 7.7 0 0 1 5.352 2.082l-2.284 2.284A4.35 4.35 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.8 4.8 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.7 3.7 0 0 0 1.599-2.431H8v-3.08z"/>
                                </svg>
                            </a>
                            <a href="#" class="icon">  
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
                                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
                                </svg>  
                            </a>
                        </div>
                        <span>ou use seu e-mail e senha</span>
                        <input type="email" placeholder="Email">
                        <input type="password" placeholder="Senha">
                        <a href="#">Esqueceu sua senha?</a>
                        <button type="button" id="bntEntrar" class="btn btn-outline-light mb-2" style="border-color: #00000048;">Entrar</button>
                        <button type="button" id="closeLogin" class="btn btn-outline-light mb-2" style="border-color: #00000048;">Cancelar</button>
                    </form>
                </div>
                <div class="toggle-container">
                    <div class="toggle">
                        <div class="toggle-panel toggle-left">
                            <h1>Bem-vindo de volta!</h1>
                            <p>Entre com seus dados pessoais para usar todos os recursos do site</p>
                            <button class="hidden" id="login">Entrar</button>
                        </div>
                        <div class="toggle-panel toggle-right">
                            <h1>Olá, Amigo!</h1>
                            <p>Cadastre-se com seus dados pessoais para usar todos os recursos do site</p>
                            <button class="hidden" id="register">Cadastrar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Dashboard CSS -->
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/adicionar-pista.css">
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="importmap">
    {
        "imports": {
            "leaflet": "https://unpkg.com/leaflet@2.0.0-alpha.1/dist/leaflet.js"
        }
    }
</script>

    <!-- Select2 CSS and JS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <!-- SweetAlert2 CSS and JS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/js/map.js" defer></script>
    <script src="/js/script.js" defer></script>
    <script src="/js/dashboard.js" defer></script>
</body>
</html>